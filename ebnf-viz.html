<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Test</title>
		<script type="module">
			//import { Diagram } from "./js.min/Diagram.js";
      import { Diagram } from "./out/Diagram.js";

			window.generateDiagram = function() {
				const ebnfGrammarValue = document.querySelector("textarea[name=ebnf_grammar]").value;
        if (ebnfGrammarValue.trim() === "") {
          alert("Please enter a valid EBNF grammar in Wirth Syntax Notation.");
          console.warn("Nothing was entered into the textarea.")
          return false;
        }

				console.debug("Generating Diagramâ€¦")
				const d = Diagram.fromString(ebnfGrammarValue);
        document.getElementById("visualized_ebnf").innerHTML = d.toHtmlTag([1, 3]);
				return true;
			}
		</script>
	</head>
	<body>

		<div>
			<h2>Grammar</h2>
			<form>
				<textarea autofocus="true" name="ebnf_grammar" placeholder="EBNF-Grammar in Wirth Syntax Notation"></textarea>
				<button type="button" onclick="generateDiagram()">Generate Diagram</button>
			</form>

			<!-- Button to trigger JS -->
			
		</div>
    <div id="visualized_ebnf"></div>
	</body>
</html>