"use strict";var c=Object.defineProperty;var s=(r,n)=>c(r,"name",{value:n,configurable:!0});async function i(r,n="gzip"){const e=new TextEncoder().encode(r),o=new CompressionStream(n),t=o.writable.getWriter();t.write(e),t.close();const a=await new Response(o.readable).arrayBuffer();return new Uint8Array(a)}s(i,"compressString");export async function compressAndEncode(r,n="gzip"){console.debug("Compressing and encoding data...");const e=await i(r,n);return btoa(String.fromCharCode(...e))}s(compressAndEncode,"compressAndEncode");export async function decodeAndDecompress(r,n="gzip"){console.debug("Decoding and decompressing data...");const e=atob(r),o=new Uint8Array(e.length);for(let t=0;t<e.length;t++)o[t]=e.charCodeAt(t);return await d(o,n)}s(decodeAndDecompress,"decodeAndDecompress");async function d(r,n="gzip"){const e=new DecompressionStream(n),o=e.writable.getWriter();o.write(r),o.close();const t=await new Response(e.readable).arrayBuffer();return new TextDecoder().decode(t)}s(d,"decompressString");
